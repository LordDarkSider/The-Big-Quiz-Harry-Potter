<!DOCTYPE html>
<html lang="fr">

	<head>
		<title>DÃ©fi nÂ°47 | The Big Quiz HP</title>
		<meta charset="utf-8">
        <meta name="description" content="DÃ©fi nÂ°47, The Big Quiz Harry Potter">
        <meta name="author" content="Titouan Hinschberger">
        <meta name="copyright" content="Â©2028 Titouan Hinschberger All rights reserved.">
        <link href="../ressources/style.css" rel="stylesheet" media="all">
        <link rel="icon" href="../ressources/images/quiz_icon.ico">
        <link rel="image_src" href="../ressources/images/quiz_icon.png">
	</head>
	
	<body>

        <h1>The Big Quiz Harry Potter</h1>

        <div id="infos">

            <h2>DÃ©fi nÂ°47</h2>

            <p id="warning">
                âš ï¸Il est nÃ©cessaire d'avoir lu le <a href="https://harrypotter.fandom.com/fr/wiki/Harry_Potter_et_les_Reliques_de_la_Mort" target="_blank">tome 7</a> pour rÃ©ussir ce dÃ©fi.
            </p>

            <p id="difficulty" title="4"></p> <!-- 1,2,3 ou 4 -->

            <p id="instruction">
                ğŸ‘‰<u>Consigne :</u> Retrouver les victimes lors de la bataille de Poudlard (alliÃ©s de Harry Potter ou de Voldemort) <u>connues dans les livres</u>.
            </p>

        </div>

		<div id="challenge">

            <form onChange="auto_replace(); change_key()">

                <p>
                    Les noms des personnages sont rangÃ©s par ordre alphabÃ©tique
                    <br><br>
                </p>

                <table>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield1"></td> <td>tuÃ©(e) par</td> <td id="autofield2"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield3"></td> <td>tuÃ©(e) par</td> <td id="autofield4"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield5"></td> <td>tuÃ©(e) par</td> <td id="autofield6"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield7"></td> <td>tuÃ©(e) par</td> <td id="autofield8"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield9"></td> <td>tuÃ©(e) par</td> <td id="autofield10"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield11"></td> <td>tuÃ©(e) par</td> <td id="autofield12"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield13"></td> <td>tuÃ©(e) par</td> <td id="autofield14"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield15"></td> <td>tuÃ©(e) par</td> <td id="autofield16"></td>
                    </tr>

                    <tr>
                        <td>ğŸ’€</td> <td id="autofield17"></td> <td>tuÃ©(e) par</td> <td id="autofield18"></td> <td>et</td> <td id="autofield19"></td>
                    </tr>

                </table>

            </form>

		</div>

		<div id="solution">

            <p>
                ğŸ—ï¸ La clÃ© est <span id="key">. . .</span><br>
                âœ”ï¸Avec cette clÃ© vous pourrez peut-Ãªtre ouvrir l'<a onclick="easter_egg('47')" title="TÃ©lÃ©charger l'Easter egg">Easter egg nÂ°47</a><br>
                âš ï¸Il peut contenir du SPOIL, il est recommandÃ© d'avoir vu avant le <a href="https://harrypotter.fandom.com/fr/wiki/Harry_Potter_et_les_Reliques_de_la_Mort_:_1%C3%A8re_partie" target="_blank"> film de la 1Ã¨re partie du tome 7</a>
            </p>

		</div>

        <img class="icon" id="home" src="../ressources/images/home.png" alt="Accueil" title="Accueil" onclick="go_to('../index.html')">
        <img class="icon" id="last" src="../ressources/images/last.png" alt="PrÃ©cÃ©dent" title="DÃ©fi prÃ©cÃ©dent" onclick="go_to('45.html')">
        <img class="icon" id="next" src="../ressources/images/next.png" alt="Suivant" title="DÃ©fi suivant" onclick="go_to('47.html')">
        <img class="icon" id="music" src="../ressources/images/music-off.png" alt="Musique OFF" title="Activer la musique">



        <script>
            let nb_fields = 19;
            let music_src = "../ressources/music/HP7/Lily's Theme.mp3";

            //Ajout des select
            var f = document.getElementById('data');
            select_values = ["Blaise Zabini", "Corban Yaxley", "Ron Weasley", "Percy Weasley", "Molly Weasley", "George Weasley", "Ginny Weasley", "Fred Weasley", "Charlie Weasley", "Bill Weasley", "Arthur Weasley", "Lord Voldemort", "Sibylle Trelawney", "Travers", "Ted Tonks", "Andromeda Tonks", "Nymphadora Tonks", "Dean Thomas", "Pius Thicknesse", "Alicia Spinnet", "Zacharias Smith", "Horace Slughorn", "Rita Skeeter", "Kingsley Shacklebolt", "Rufus Scrimgeour", "Argus Rusard", "Augustus Rookwood", "Severus Rogue", "Quirinus Quirrell", "James Potter", "Harry Potter", "Peter Pettigrow", "Peeves", "Parvati Patil", "Padma Patil", "Pansy Parkinson", "Garrick Ollivander", "Rionach O'Neal", "Nagini", "Minerva McGonagall", "Alastor Maugrey", "Narcissa Malefoy", "Lucius Malefoy", "Drago Malefoy", "Walden Macnair", "Ernie Macmillan", "Remus Lupin", "Luna Lovegood", "Neville Londubat", "Augusta Londubat", "Gilderoy Lockhart", "Rodolphus Lestrange", "Rabastan Lestrange", "Bellatrix Lestrange", "Kreattur", "Lee Jordan", "Angelina Johnson", "Rubeus Hagrid", "Gripsec", "Gellert Grindelwald", "Fenrir Greyback", "Graup", "Hermione Granger", "Gregory Goyle", "Anthony Goldstein", "Mimi Geignarde", "Cornelius Fudge", "Filius Flitwick", "Firenze", "Seamus Finnigan", "Justin Finch-Fletchley", "Lily Evans", "Marietta Edgecombe", "Vernon Dursley", "PÃ©tunia Dursley", "Dudley Dursley", "Albus Dumbledore", "Abelforth Dumbledore", "Olivier Dubois", "Antonin Dolohov", "Dobby", "CÃ©dric Diggory", "Fleur Delacour", "Bartemius Croupton", "Dennis Crivey", "Colin Crivey", "Vincent Crabbe", "Michael Corner", "Pomona Chourave", "Cho Chang", "Amycus Carrow", "Alecto Carrow", "Buck", "Lavande Brown", "Susan Bones", "Sirius Black", "Katie Bell", "Aragog", "Hannah Abbot", "Inconnu"];
            var select = document.createElement('select');
            select.options[0] = new Option("â€", "");
            while(select_values.length){
                    var val = select_values.pop();
                    select.options[select.options.length] = new Option(val, val);
            }
            for(let k=1; k<=nb_fields; k++){
                f = document.getElementById("autofield"+String(k));
                select.id = "v"+String(k);
                f.appendChild(select.cloneNode(true));
            }

        </script>

        <script src="../ressources/script/difficulty.js"></script>
        <script src="../ressources/script/keys.js"></script>
        <script src="../ressources/script/key_engine.js"></script>
        <script src="../ressources/script/links_easter_eggs.js"></script>
        <script src="../ressources/script/interactions.js"></script>
        <script src="../ressources/script/music.js"></script>

        <script>

            function auto_replace(){

                //VÃ©rifier que tout est complÃ©tÃ© (sortir sinon)
                for (var i = fields.length-1; i >= 0; i--) {
                    if(fields[i].selectedIndex == 0) {return};
                }
                
                //RÃ©cupÃ©rer toutes les valeurs
                var slctIdx = fields.map(f => f.selectedIndex);

                //SÃ©parer valeurs Ã  gauche et valeurs associÃ©es Ã  droite (sans la derniÃ¨re ligne)
                var left_values = [];
                var assoc = new Map();
                for (var i = 0; i < slctIdx.length-3; i += 2) {
                    left_values.push(slctIdx[i]);
                    assoc.set(slctIdx[i], slctIdx[i+1]);
                }

                //Trier les valeurs Ã  gauche
                left_values.sort(function(a,b){return a-b;});

                //Replacer les valeurs gauches et droites associÃ©es
                for (var i = 0; i < left_values.length; i ++) {
                    fields[i*2].selectedIndex = left_values[i];
                    fields[(i*2)+1].selectedIndex = assoc.get(left_values[i]);
                }

                //Inverser si nÃ©cÃ©ssaire les 2 derniers champs (derniÃ¨re ligne)
                if(slctIdx[17] > slctIdx[18]) {
                    fields[17].selectedIndex = slctIdx[18];
                    fields[18].selectedIndex = slctIdx[17];
                }

            }

        </script>


	</body>

</html>